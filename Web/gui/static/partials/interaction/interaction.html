<div ng-controller="interactionController">
	<div class="input-group">
		<span class="input-group-addon">Operator</span>
		<select
			class="selectpicker form-control"
			ng-model="operator"
			ng-disabled="interaction"
			ng-options="operator.fullname for operator in operators | orderBy:'fullname'">
			<option value="">--Select Operator--</option>
		</select>
	</div>
	{{proxyObjectResolver.resolveProp(operator, 'users')}}
	<div class="input-group">
		<span class="input-group-addon">User</span>
		<select
			class="selectpicker form-control"
			ng-model="user"
			ng-disabled="interaction"
			ng-options="user.fullname group by getCategory(user, operator.users) for user in users | orderBy:'fullname'">
			<option value="">--Select User--</option>
		</select>
	</div>
	<div class="btn-toolbar">
		<div class="btn-group">
			<button
				class="btn btn-default"
				type="button"
				ng-disabled="!(user && operator)"
				ng-if="interaction == null"
				ng-click="start()">Start</button>
			<button
				class="btn btn-default"
				type="button"
				ng-if="interaction != null"
				ng-click="stop()">Stop</button>
		</div>
		<div class="btn-group">
			<button
				class="btn btn-default"
				type="button"
				ng-show="interaction != null"
				ng-click="showUser()">Show User Window</button>
			<button
				class="btn btn-default"
				type="button"
				ng-show="interaction != null"
				ng-click="showOperator()">Show Operator Window</button>
		</div>
	</div>
	<operator-interaction
		ng-show="operatorMode && interaction != null"
		operator="operator"
		buttons="buttons"
		interaction="interaction"></operator-interaction>
	<user-interaction
		ng-show="!operatorMode && interaction != null"
		user="user"
		buttons="buttons"
		interaction="interaction"></user-interaction>
</div>
