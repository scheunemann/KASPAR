!function(){define("text",["module"],function(module){var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.12",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var modName,ext,temp,strip=!1,index=name.indexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1,name.length)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config&&config.isBuild&&!config.inlineText)return void onLoad();masterConfig.isBuild=config&&config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;return 0===url.indexOf("empty:")?void onLoad():void(!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)}))},write:function(pluginName,moduleName,write){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{var file=fs.readFileSync(url,"utf8");0===file.indexOf("ï»¿")&&(file=file.substring(1)),callback(file)}catch(e){errback&&errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(){var status,err;4===xhr.readyState&&(status=xhr.status||0,status>399&&600>status?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback&&errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url);try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("common/services/ModelBuilder",["require","angular","angularResource"],function(require){var angular=require("angular");require("angularResource");var ModelBuilder=function(){this.basePath="",this.setBasePath=function(path){-1==path.indexOf("/",path.length-1)&&(path+="/"),this.basePath=path},this.transformResponse=function(data,headersGetter){data=angular.fromJson(data);var newResponse=(headersGetter(),data.objects);return newResponse.paging={num_results:data.num_results,page:data.page,total_pages:data.total_pages},newResponse},this.$get=["$resource","$q","$rootScope",function($resource,$q){var root=this,getModel=function(model,params,methods,url){url=void 0===url?root.basePath+model+"/:id":root.basePath+url;var defaultMethods={update:{method:"PUT",isArray:!1},create:{method:"POST"},get:{method:"GET",cache:!0},query:{method:"GET",isArray:!0,cache:!1,transformResponse:root.transformResponse}},defaultParams={id:"@id"};methods=angular.extend(defaultMethods,methods);for(var name in methods)methods[name].hasOwnProperty("url")&&(methods[name].url=root.basePath+methods[name].url);params=angular.extend(defaultParams,params);var resource=$resource(url,params,methods);return resource.prototype.getProperty=function(propName){var key="$__"+propName;if(void 0===this[key]){var subUrl=root.basePath+model+"/"+this.id+"/"+propName;this[key]=$resource(subUrl,{},defaultMethods).query()}return this[key]},resource.prototype.getConcreteClassInstance=function(){if(this.$concreteResolved)return this;if(void 0===this.id||void 0===this.type){if(void 0!==this.$promise)return this;var def=$q.defer();return this.$promise=def.promise,def.resolve(this),this}var concreteModel=getModel(this.type),concreteInstance=concreteModel.get({id:this.id});return concreteInstance.$promise.then(function(res){res.$concreteResolved=!0}),concreteInstance},resource.prototype.$save=function(){return this.id?this.$update():this.$create()},resource.queryBase=resource.query,resource.query=function(params){if(void 0!==params){var q={};q.filters=[];for(var key in params)q.filters.push({name:key,op:null===params[key]?"is_null":"==",val:params[key]});return this.queryBase({q:q})}return this.queryBase()},resource};return{getModel:getModel}}]};return ModelBuilder}),define("common/services/modelServices",["require","angular","angularResource","./ModelBuilder"],function(require){{var angular=require("angular"),angularResource=require("angularResource"),ModelBuilder=require("./ModelBuilder"),moduleName="kasparGUI.common.modelServices",dependancies=[angularResource];angular.module(moduleName,dependancies).provider("modelBuilder",ModelBuilder)}return moduleName}),define("text!teacher/index.tpl.html",[],function(){return'<login\r\n	ng-hide="teacher"\r\n	teacher="teacher"></login>\r\n<user\r\n	ng-show="teacher && !user"\r\n	teacher="teacher"\r\n	user="user"></user>\r\n<home\r\n	ng-show="teacher && user"\r\n	teacher="teacher"\r\n	user="user"></home>'}),define("common/i18n/en-gb",["require"],function(){var enGb={"action.label":"Action","action.select.prompt":"--Select Action--","action.test":"Test","action.stop":"Stop","action.import.selectFiles":"Select Files","action.import.upload":"Upload","action.new":"New","action.delete":"Delete","action.copy":"Copy","action.type.label":"Type","action.type.select.prompt":"--Select Type--","action.sound.name":"Name","action.sound.selectFile":"Select File","action.sound.selectedFile":"Selected File","action.sound.upload":"Upload","action.sequence.name":"Name","action.sequence.actions.list.label":"All Behaviours","action.sequence.actions.add":"Add","action.sequence.actions.remove":"Remove","action.sequence.actions.moveUp":"Move Up","action.sequence.actions.moveDown":"Move Down","action.sequence.actions.title":"Sequence Behaviours","action.sequence.help.short":"All selected behaviours will attempt execute in order","action.pose.name":"Name","action.pose.type.prompt":"Select pose entry mode","action.pose.basic.label":"Basic","action.pose.basic.poseable":"Release group servos","action.pose.advanced.label":"Detailed","action.pose.speedModifier":"Speed Modifier","action.pose.speedModifier.short":"Speed","action.pose.minLength":"Minimum Length","action.pose.minLength.short":"Length","action.pose.minLength.units":"seconds","action.pose.joint.name":"Joint Name","action.pose.joint.name.short":"Name","action.pose.joint.select.prompt":"--Select Joint--","action.pose.joint.delete":"Remove","action.pose.joint.poseable":"Release","action.pose.joint.position":"Position","action.pose.joint.speed":"Speed","action.group.name":"Name","action.group.actions.list.label":"All Behaviours","action.group.actions.add":"Add","action.group.actions.remove":"Remove","action.group.actions.title":"Group Behaviours","action.group.help.short":"All selected behaviours will attempt to execute simultaneously","common.setting.robot.label":"Attached Robot","common.setting.robot.select.prompt":"--Select Robot--","interaction.operator.label":"Operator","interaction.operator.select.prompt":"--Select Operator--","interaction.user.label":"User","interaction.user.select.prompt":"--Select User--","interaction.start":"Start","interaction.stop":"Stop","interaction.operator.view.buttons.label":"User Buttons","interaction.operator.view.activateBindings":"Activate Bindings","interaction.operator.view.showHotkeys":"Show Hotkeys","operator.label":"Operator","operator.select.prompt":"--Select Operator--","operator.new":"New","operator.delete":"Delete","operator.name":"Name","operator.users":"Common Users","robot.label":"Robot","robot.select.prompt":"--Select Robot--","robot.new":"New","robot.delete":"Delete","robot.view.servoModel.label":"Servo Model Configs","robot.view.servoModel.id":"Servo Model Id","robot.view.servoModel.port":"Port","robot.view.servoModel.portSpeed":"Port Speed","robot.view.servoModel.position.scale":"Position Scale","robot.view.servoModel.position.offset":"Position Offset","robot.view.servoModel.position.min":"Min Position","robot.view.servoModel.position.max":"Max Position","robot.view.servoModel.position.default":"Default Position","robot.view.servoModel.speed.scale":"Speed Scale","robot.view.servoModel.speed.min":"Min Speed","robot.view.servoModel.speed.max":"Max Speed","robot.view.servoModel.speed.default":"Default Speed","robot.view.servoModel.poseable":"Poseable","robot.view.servoModel.otherSettings":"Other","robot.view.servoGroups.label":"Servo Groups","robot.view.servoGroups.servoName":"Servo Name","robot.view.servos.label":"Servos","robot.view.servos.model.id":"Servo Model Id","robot.view.servos.position.scale":"Position Scale","robot.view.servos.position.offset":"Position Offset","robot.view.servos.position.min":"Min Position","robot.view.servos.position.max":"Max Position","robot.view.servos.position.default":"Default Position","robot.view.servos.speed.scale":"Speed Scale","robot.view.servos.speed.min":"Min Speed","robot.view.servos.speed.max":"Max Speed","robot.view.servos.speed.default":"Default Speed","robot.view.servos.poseable":"Poseable","robot.view.servos.otherSettings":"Other","robot.interface.robot":"Attached Robot","robot.interface.robot.short":"Robot","robot.interface.robot.select.prompt":"--Select Robot--","robot.interface.connect":"Connect","robot.interface.disconnect":"Disconnect","robot.name":"Name","robot.model":"Model","robot.model.select.prompt":"--Select Model--","robot.version":"Version","trigger.import.selectFiles":"Select Files","trigger.import.upload":"Upload","trigger.label":"Trigger","trigger.select.prompt":"--Select Trigger--","trigger.new":"New","trigger.delete":"Delete","trigger.type.label":"Type","trigger.type.select.prompt":"--Select Type--","trigger.time.name":"Name","trigger.time.action":"Action","trigger.time.action.select.prompt":"No Action","trigger.time.trigger":"Trigger","trigger.time.trigger.select.prompt":"--Select Trigger--","trigger.time.time":"Time","trigger.time.time.while":"While Active","trigger.time.time.since":"Since Deactivated","trigger.time.time.units":"seconds","trigger.sensor.connect":"Connect","trigger.sensor.disconnect":"Disconnect","trigger.sensor.current":"Current","trigger.sensor.basic.label":"Basic","trigger.sensor.basic.on":"Active","trigger.sensor.basic.off":"Inactive","trigger.sensor.basic.help.short":"As determined by sensor type","trigger.sensor.advanced.label":"Detailed","trigger.sensor.advanced.compare.label":"Active when current value","trigger.sensor.advanced.compare.select.prompt":"--Select Value--","trigger.sensor.name":"Name","trigger.sensor.action":"Action","trigger.sensor.action.select.prompt":"No Action","trigger.sensor.sensor":"Sensor","trigger.sensor.sensor.select.prompt":"--Select Sensor--","trigger.button.hotkey.label":"Keyboard Button","trigger.button.hotkey.delete":"Delete","trigger.button.hotkey.new":"New Keyboard Button","trigger.button.name":"Name","trigger.button.action":"Action","trigger.button.action.select.prompt":"No Action","trigger.compound.name":"Name","trigger.compound.action":"Action","trigger.compound.action.select.prompt":"No Action","trigger.compound.require.label":"Require","trigger.compound.require.all":"all","trigger.compound.require.any":"any","trigger.compound.require.trigger":"selected triggers","trigger.compound.triggers.list.label":"All Triggers","trigger.compound.triggers.add":"Add","trigger.compound.triggers.remove":"Remove","trigger.compound.triggers.title":"Selected Triggers","user.label":"User","user.select.prompt":"--Select User--","user.new":"New","user.delete":"Delete","user.name":"Name","user.speedModifier":"Movement Speed","user.custom.action.label":"Custom Behaviours","user.custom.action.new":"New","user.custom.action.delete":"Delete","user.custom.action.override":"Action to Override","user.custom.action.redirect":"Override Action","user.custom.trigger.label":"Custom Triggers","user.custom.trigger.new":"New","user.custom.trigger.delete":"Delete","navbar.admin.label":"Admin","navbar.admin.operators":"Operators","navbar.admin.users":"Users","navbar.admin.robots":"Robots","navbar.admin.settings":"Settings","navbar.action.label":"Action","navbar.action.edit":"Create/Edit","navbar.action.test":"Test","navbar.action.import":"Import","navbar.trigger.label":"Trigger","navbar.trigger.edit":"Create/Edit","navbar.trigger.test":"Test","navbar.trigger.import":"Import","navbar.interaction.label":"Interactions","navbar.interaction.view":"View History","navbar.interaction.begin":"Begin New","navbar.interaction.manage":"Manage History"};return enGb}),define("common/i18n/Language",["require","../i18n/en-gb"],function(require){var enGB=require("../i18n/en-gb"),Language=function(){this.language="en-gb",this.setLanguage=function(language){this.language=language},this.getText=function(){return enGB}};return Language}),define("common/i18n/languageServices",["require","angular","./Language"],function(require){{var angular=require("angular"),Language=require("./Language"),moduleName="kasparGUI.common.languageServices",dependancies=[];angular.module(moduleName,dependancies).service("language",Language)}return moduleName}),define("teacher/services/GameService",["require","angular"],function(require){var GameService=(require("angular"),function(){this.getGames=function(){return[{name:"Game 1",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"ability_thumb.png",fullsrc:"ability.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Interaction",key:"interaction"}],tags:[{title:"Slow",key:"slow"},{title:"Movement",key:"movement"}]},{name:"Game 2",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"strategy_thumb.png",fullsrc:"strategy.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Interaction",key:"interaction"}],tags:[{title:"Quick",key:"quick"},{title:"Movement",key:"movement"}]},{name:"Game 3",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"music_thumb.png",fullsrc:"music.png",objectives:[{title:"Other",key:"other"}],tags:[{title:"Music",key:"music"},{title:"Game",key:"game"}]},{name:"Game 4",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"puzzle_thumb.png",fullsrc:"puzzle.png",objectives:[{title:"Other",key:"other"},{title:"Interaction",key:"interaction"}],tags:[{title:"Quick",key:"quick"},{title:"Talking",key:"talking"}]},{name:"Game 5",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"realtime_thumb.png",fullsrc:"realtime.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Other",key:"other"}]},{name:"Game 6",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"color_thumb.png",fullsrc:"color.png",tags:[{title:"Interactive",key:"interaction"},{title:"Talking",key:"talking"}]}]}});return GameService}),define("teacher/services/InteractionService",["require","angular"],function(require){var InteractionService=(require("angular"),function(){this.getInteractions=function(){return[{date:"13/4/2014",totalTime:"30m",score:{total:2,parent:{experience:3},child:{experience:1,engagement:1}},games:[{name:"Game 1",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"ability_thumb.png",fullsrc:"ability.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Interaction",key:"interaction"}],tags:[{title:"Slow",key:"slow"},{title:"Movement",key:"movement"}]},{name:"Game 3",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"music_thumb.png",fullsrc:"music.png",objectives:[{title:"Other",key:"other"}],tags:[{title:"Music",key:"music"},{title:"Game",key:"game"}]}],notes:[{title:"A note",text:"This is the body of a note"}],user:{name:"John Smith",birthday:"5/7/2008",gender:"M",thumbsrc:"boy_thumb.png",fullsrc:"boy.png"}},{date:"15/4/2014",totalTime:"30m",score:{total:3,parent:{experience:3},child:{experience:3,engagement:3}},games:[{name:"Game 2",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"strategy_thumb.png",fullsrc:"strategy.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Interaction",key:"interaction"}],tags:[{title:"Quick",key:"quick"},{title:"Movement",key:"movement"}]}],notes:[{title:"A note",text:"This is the body of a note"}],user:{name:"John Smith",birthday:"5/7/2008",gender:"M",thumbsrc:"boy_thumb.png",fullsrc:"boy.png"}},{date:"17/4/2014",totalTime:"30m",score:{total:5,parent:{experience:4},child:{experience:5,engagement:5}},games:[{name:"Game 4",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"puzzle_thumb.png",fullsrc:"puzzle.png",objectives:[{title:"Other",key:"other"},{title:"Interaction",key:"interaction"}],tags:[{title:"Quick",key:"quick"},{title:"Talking",key:"talking"}]},{name:"Game 5",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"realtime_thumb.png",fullsrc:"realtime.png",objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Other",key:"other"}]},{name:"Game 6",plays:10,desc_short:"This is a grea",desc_long:"This is a great game to play with children!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"color_thumb.png",fullsrc:"color.png",tags:[{title:"Interactive",key:"interaction"},{title:"Talking",key:"talking"}]}],notes:[{title:"A note",text:"This is the body of a note"}],user:{name:"Jill Smith",birthday:"5/7/2008",gender:"F",thumbsrc:"girl_thumb.png",fullsrc:"girl.png"}}]}});return InteractionService}),define("teacher/services/objectiveService",["require","angular"],function(require){var ObjectiveService=(require("angular"),function(){this.getObjectives=function(){return[{title:"Turn Taking",key:"turntaking"},{title:"Interaction",key:"interaction"},{title:"Other",key:"other"}]}});return ObjectiveService}),define("teacher/services/scenarioService",["require","angular"],function(require){var ScenarioService=(require("angular"),function(){this.getScenarios=function(){return[{name:"A Scenario",plays:10,desc_short:"Tests interact",desc_long:"Tests interaction with music!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"singleplayer_thumb.png",fullsrc:"singleplayer.png",author:{name:"op"},objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Other",key:"other"}]},{name:"Another Scenario",plays:10,desc_short:"Turn taking wi",desc_long:"Turn taking with touch!",totTime:"2h35m",lastPlay:"15/4/2014",thumbsrc:"multiplayer_thumb.png",fullsrc:"multiplayer.png",author:{name:"UH"},objectives:[{title:"Turn Taking",key:"turntaking"},{title:"Other",key:"other"}]}]}});return ScenarioService}),define("teacher/services/UserService",["require","angular"],function(require){var UserService=(require("angular"),function(){this.getUsers=function(){return[{name:"John Smith",birthday:"5/7/2008",gender:"M",thumbsrc:"boy_thumb.png",fullsrc:"boy.png"},{name:"Jill Smith",birthday:"5/7/2008",gender:"F",thumbsrc:"girl_thumb.png",fullsrc:"girl.png"},{name:"Jane Smith",birthday:"5/7/2008",gender:"F",thumbsrc:"girl_thumb.png",fullsrc:"girl.png"},{name:"Jimmy Smith",birthday:"5/7/2008",gender:"M",thumbsrc:"boy_thumb.png",fullsrc:"boy.png"}]}});return UserService}),define("teacher/services/dataProvider",["require","angular","./GameService","./InteractionService","./objectiveService","./scenarioService","./UserService"],function(require){{var angular=require("angular"),GameService=require("./GameService"),InteractionService=require("./InteractionService"),ObjectiveService=require("./objectiveService"),ScenarioService=require("./scenarioService"),UserService=require("./UserService"),moduleName="kasparGUI.teacher.dataProvider",dependancies=[];angular.module(moduleName,dependancies).service("gameService",GameService).service("interactionService",InteractionService).service("objectiveService",ObjectiveService).service("scenarioService",ScenarioService).service("userService",UserService)}return moduleName}),define("text!teacher/directives/activeInteraction.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-2">\r\n		<div class="row">\r\n			<div class="col-lg-12">Games</div>\r\n		</div>\r\n		<div\r\n			class="row"\r\n			ng-repeat="game in interaction.games">\r\n			<div class="col-lg-12">\r\n				<container-game\r\n					game="game"\r\n					short="true"\r\n					class="clickable"\r\n					ng-class="{blue: game.started && !game.finished, green:game.started && game.finished}"\r\n					ng-click=changeGame(game)></container-game>\r\n			</div>\r\n		</div>\r\n		<div class="row">\r\n			<div class="col-lg-12">\r\n				<button\r\n					type="button"\r\n					ng-click="endInteraction()"\r\n					class="btn btn-default">Done</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div\r\n		class="col-lg-10"\r\n		ng-show="selectedGame">\r\n		<interaction-game game="selectedGame"></interaction-game>\r\n	</div>\r\n</div>'}),define("teacher/directives/ActiveInteraction",["require","angular","text!./activeInteraction.tpl.html"],function(require){var template=(require("angular"),require("text!./activeInteraction.tpl.html")),ActiveInteraction=function(){return{template:template,restrict:"E",scope:{interaction:"="},link:function(){},controller:function($scope){$scope.changeGame=function(game){$scope.selectedGame&&$scope.selectedGame.started&&!$scope.selectedGame.finished?alert("Please finish current game first!"):$scope.selectedGame=game},$scope.endInteraction=function(){if($scope.selectedGame&&$scope.selectedGame.started&&!$scope.selectedGame.finished)alert("Please finish current game first!");else{$scope.interaction.totalTime="30m";for(var games=$scope.interaction.games.slice(0),i=0;i<games.length;i++)games[i].started||$scope.interaction.games.splice($scope.interaction.games.indexOf(games[i]),1)}}}}};return ActiveInteraction}),define("text!teacher/directives/beginInteraction.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-2">\r\n		<container-user user="user"></container-user>\r\n	</div>\r\n	<div class="col-lg-10">\r\n		<div class="row"><div class="col-lg-12">Selected Games</div></div>\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="game in games"\r\n				class="col-lg-2">\r\n				<container-game game=\'game\'></container-game>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-12">\r\n		Objectives to be covered:\r\n		<container-objective\r\n			ng-repeat="objective in getObjectives()"\r\n			objective=\'objective\'></container-objective>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-12">\r\n		<button\r\n			type="button"\r\n			ng-click="start()">Start</button>\r\n	</div>\r\n</div>'}),define("teacher/directives/BeginInteraction",["require","angular","text!./beginInteraction.tpl.html"],function(require){var template=(require("angular"),require("text!./beginInteraction.tpl.html")),BeginInteraction=function(){return{template:template,restrict:"E",scope:{teacher:"=",user:"=",games:"=",interaction:"="},link:function(){},controller:function($scope){$scope.getObjectives=function(){var objectives=[];if($scope.games)for(var i=0;i<$scope.games.length;i++)if($scope.games[i].objectives)for(var j=0;j<$scope.games[i].objectives.length;j++){for(var found=!1,k=0;k<objectives.length;k++)if(objectives[k].key==$scope.games[i].objectives[j].key){found=!0;break}found||objectives.push($scope.games[i].objectives[j])}return objectives},$scope.start=function(){$scope.interaction={date:"13/4/2014",totalTime:"",score:{total:0,parent:{experience:0},child:{experience:0,engagement:0}},games:$scope.games.slice(0),notes:[],user:$scope.user}}}}};return BeginInteraction}),define("text!teacher/directives/container_game.tpl.html",[],function(){return'\r\n<div\r\n	class="container_game"\r\n	ng-class="{highlight:highlight && !selected, selected:selected}">\r\n	<div class="center">\r\n		<img ng-src="img/teacher/game/{{game.thumbsrc}}" />\r\n	</div>\r\n	<div class="name center">{{game.name}}</div>\r\n	<div ng-hide="short" class="numPlays">Times Played: {{game.plays}}</div>\r\n	<div ng-hide="short" class="desc_short">{{game.desc_short}}...</div>\r\n	<div ng-hide="short" class="totalTime">{{game.totTime}}</div>\r\n	<div ng-hide="short" class="lastPlayed">{{game.lastPlay}}</div>\r\n</div>'}),define("teacher/directives/Container_Game",["require","angular","text!./container_game.tpl.html"],function(require){var template=(require("angular"),require("text!./container_game.tpl.html")),Container_Game=function(){return{template:template,restrict:"E",scope:{game:"=",selected:"=?",highlight:"=?","short":"=?"},link:function(){},controller:function(){}}};return Container_Game}),define("text!teacher/directives/container_note.tpl.html",[],function(){return'\r\n<div class="container_note">\r\n	<div class="center">{{note.title}}</div>\r\n	<div>{{note.text}}</div>\r\n</div>'}),define("teacher/directives/Container_Note",["require","angular","text!./container_note.tpl.html"],function(require){var template=(require("angular"),require("text!./container_note.tpl.html")),Container_Note=function(){return{template:template,restrict:"E",scope:{note:"="},link:function(){},controller:function(){}}};return Container_Note}),define("text!teacher/directives/container_scenario.tpl.html",[],function(){return'\r\n<div\r\n	class="container_scenario"\r\n	ng-class="{highlight:highlight && !selected, selected:selected}">\r\n	<div class="center">\r\n		<img ng-src="img/teacher/game/{{scenario.thumbsrc}}" />\r\n	</div>\r\n	<div class="name center">{{scenario.name}}</div>\r\n	<div class="numPlays">Times Played: {{scenario.plays}}</div>\r\n	<div class="desc_short">{{scenario.desc_short}}...</div>\r\n	<div class="totalTime">{{scenario.totTime}}</div>\r\n	<div class="lastPlayed">{{scenario.lastPlay}}</div>\r\n</div>'}),define("teacher/directives/Container_Scenario",["require","angular","text!./container_scenario.tpl.html"],function(require){var template=(require("angular"),require("text!./container_scenario.tpl.html")),Container_Scenario=function(){return{template:template,restrict:"E",scope:{scenario:"=",selected:"=",highlight:"="},link:function(){},controller:function(){}}};return Container_Scenario}),define("text!teacher/directives/container_objective.tpl.html",[],function(){return" {{objective.title}} \r\n"}),define("teacher/directives/Container_Objective",["require","angular","text!./container_objective.tpl.html"],function(require){var template=(require("angular"),require("text!./container_objective.tpl.html")),Container_Objective=function(){return{template:template,restrict:"E",scope:{objective:"="},link:function(){},controller:function(){}}};return Container_Objective}),define("text!teacher/directives/container_tag.tpl.html",[],function(){return'<div>\r\n	<a href="?tag={{tag.key}}">{{tag.title}}</a>\r\n</div>'}),define("teacher/directives/Container_Tag",["require","angular","text!./container_tag.tpl.html"],function(require){var template=(require("angular"),require("text!./container_tag.tpl.html")),Container_Tag=function(){return{template:template,restrict:"E",scope:{tag:"="},link:function(){},controller:function(){}}
};return Container_Tag}),define("text!teacher/directives/container_user.tpl.html",[],function(){return'\r\n<div class="container_user">\r\n	<div class="center">\r\n		<img ng-src="img/teacher/user/{{user.thumbsrc}}" />\r\n	</div>\r\n	<div class="center">{{user.name}}</div>\r\n</div>'}),define("teacher/directives/Container_User",["require","angular","text!./container_user.tpl.html"],function(require){var template=(require("angular"),require("text!./container_user.tpl.html")),Container_User=function(){return{template:template,restrict:"E",scope:{user:"="},link:function(){},controller:function(){}}};return Container_User}),define("text!teacher/directives/detail_game.tpl.html",[],function(){return'\r\n<div class="detail_game">\r\n	<div>\r\n		<img ng-src="img/teacher/game/{{game.fullsrc}}" />\r\n	</div>\r\n	<div>{{game.name}}</div>\r\n	<div>{{game.desc_long}}</div>\r\n	<div class="numPlays">Number of Plays: {{game.plays}}</div>\r\n	<div class="lastPlayed">Last Time Played: {{game.lastPlay}}</div>\r\n	<div class="totalTime">Total Playtime: {{game.totTime}}</div>\r\n	<div ng-show="game.objectives">\r\n		Objectives:\r\n		<span\r\n			ng-repeat="objective in game.objectives"\r\n			ng-class="{highlight:objective.key==selectedObjective.key}"\r\n			class="clickable"\r\n			ng-click="toggleObjective(objective)">{{objective.title}}, </span>\r\n	</div>\r\n	<div ng-show="game.tags">\r\n		Tags:\r\n		<span\r\n			ng-repeat="tag in game.tags"\r\n			ng-class="{highlight:tag.key==selectedTag.key}"\r\n			class="clickable"\r\n			ng-click="toggleTag(tag)">{{tag.title}}, </span>\r\n	</div>\r\n</div>'}),define("teacher/directives/Detail_Game",["require","angular","text!./detail_game.tpl.html"],function(require){var template=(require("angular"),require("text!./detail_game.tpl.html")),Detail_Game=function(){return{template:template,restrict:"E",scope:{game:"=",selectedObjective:"=",selectedTag:"="},link:function(){},controller:function($scope){$scope.toggleTag=function(tag){$scope.selectedTag=null===$scope.selectedTag||void 0===$scope.selectedTag?tag:$scope.selectedTag.key==tag.key?null:tag},$scope.toggleObjective=function(objective){$scope.selectedObjective=null===$scope.selectedObjective||void 0===$scope.selectedObjective?objective:$scope.selectedObjective.key==objective.key?null:objective}}}};return Detail_Game}),define("text!teacher/directives/detail_scenario.tpl.html",[],function(){return'\r\n<div class="detail_scenario">\r\n	<div>\r\n		<img ng-src="img/teacher/game/{{scenario.fullsrc}}" />\r\n	</div>\r\n	<div>{{scenario.name}}</div>\r\n	<div>Author: {{scenario.author.name}}</div>\r\n	<div>{{scenario.desc_long}}</div>\r\n	<div class="numPlays">Number of Plays: {{scenario.plays}}</div>\r\n	<div class="lastPlayed">Last Time Played: {{scenario.lastPlay}}</div>\r\n	<div class="totalTime">Total Playtime: {{scenario.totTime}}</div>\r\n	<div ng-show="scenario.objectives">\r\n		Objectives:\r\n		<span\r\n			ng-repeat="objective in scenario.objectives"\r\n			ng-class="{highlight:objective.key==selectedObjective.key}"\r\n			class="clickable"\r\n			ng-click="toggleObjective(objective)">{{objective.title}}, </span>\r\n	</div>\r\n	<div ng-show="scenario.tags">\r\n		Tags:\r\n		<span\r\n			ng-repeat="tag in scenario.tags"\r\n			ng-class="{highlight:tag.key==selectedTag.key}"\r\n			class="clickable"\r\n			ng-click="toggleTag(tag)">{{tag.title}}, </span>\r\n	</div>\r\n</div>'}),define("teacher/directives/Detail_Scenario",["require","angular","text!./detail_scenario.tpl.html"],function(require){var template=(require("angular"),require("text!./detail_scenario.tpl.html")),Detail_Scenario=function(){return{template:template,restrict:"E",scope:{scenario:"=",selectedObjective:"=",selectedTag:"="},link:function(){},controller:function($scope){$scope.toggleTag=function(tag){$scope.selectedTag=null===$scope.selectedTag||void 0===$scope.selectedTag?tag:$scope.selectedTag.key==tag.key?null:tag},$scope.toggleObjective=function(objective){$scope.selectedObjective=null===$scope.selectedObjective||void 0===$scope.selectedObjective?objective:$scope.selectedObjective.key==objective.key?null:objective}}}};return Detail_Scenario}),define("text!teacher/directives/detail_history.tpl.html",[],function(){return'\r\n<div class="container_history">\r\n	<div class="row">\r\n		<div class="col-lg-2">\r\n			<container-user user="interaction.user"></container-user>\r\n		</div>\r\n		<div class="col-lg-10">\r\n			<div>Date: {{interaction.date}}</div>\r\n			<div>Time: {{interaction.totalTime}}</div>\r\n		</div>\r\n	</div>\r\n	<div class="row">Games Played</div>\r\n	<div class="row">\r\n		<div\r\n			ng-repeat="game in interaction.games"\r\n			class="col-lg-2">\r\n			<container-game game=\'game\'></container-game>\r\n		</div>\r\n	</div>\r\n	<div class="row">\r\n		Objectives Covered:\r\n		<container-objective\r\n			ng-repeat="objective in getObjectives()"\r\n			objective=\'objective\'></container-objective>\r\n	</div>\r\n	<div class="row">\r\n		<div class="col-lg-3">\r\n			<div class="center">\r\n				<img\r\n					ng-src="/img/teacher/rating/{{images[interaction.score.child.engagement-1]}}"\r\n					alt="{{interaction.score.child.engagement}}" />\r\n			</div>\r\n			<div class="center">Child Engagement</div>\r\n		</div>\r\n		<div class="col-lg-3">\r\n			<div class="center">\r\n				<img\r\n					ng-src="/img/teacher/rating/{{images[interaction.score.child.experience-1]}}"\r\n					alt="{{interaction.score.child.experience}}" />\r\n			</div>\r\n			<div class="center">Child Experience</div>\r\n		</div>\r\n		<div class="col-lg-3">\r\n			<div class="center">\r\n				<img\r\n					ng-src="/img/teacher/rating/{{images[interaction.score.parent.experience-1]}}"\r\n					alt="{{interaction.score.parent.experience}}" />\r\n			</div>\r\n			<div class="center">Parent Experience</div>\r\n		</div>\r\n		<div class="col-lg-3">\r\n			<div class="center">\r\n				<img\r\n					ng-src="/img/teacher/rating/{{images[interaction.score.total-1]}}"\r\n					alt="{{interaction.score.total}}" />\r\n			</div>\r\n			<div class="center">Average Score</div>\r\n		</div>\r\n	</div>\r\n	<div class="row">\r\n		<div\r\n			ng-repeat="note in interaction.notes"\r\n			class="col-lg-3">\r\n			<container-note note=\'note\'></container-note>\r\n		</div>\r\n		<div class="col-lg-3">\r\n			<container-note\r\n				note="newNote"\r\n				class="clickable"\r\n				ng-click="addNote()"></container-note>\r\n		</div>\r\n	</div>\r\n</div>'}),define("teacher/directives/Detail_History",["require","angular","text!./detail_history.tpl.html"],function(require){var template=(require("angular"),require("text!./detail_history.tpl.html")),Detail_History=function(){return{template:template,restrict:"E",scope:{interaction:"="},link:function(){},controller:function($scope){$scope.images=["0.png","1.png","2.png","3.png","4.png"],$scope.newNote={title:"New Note"},$scope.getObjectives=function(){var objectives=[];if($scope.interaction&&$scope.interaction.games)for(var i=0;i<$scope.interaction.games.length;i++)if($scope.interaction.games[i].objectives)for(var j=0;j<$scope.interaction.games[i].objectives.length;j++){for(var found=!1,k=0;k<objectives.length;k++)if(objectives[k].key==$scope.interaction.games[i].objectives[j].key){found=!0;break}found||objectives.push($scope.interaction.games[i].objectives[j])}return objectives}}}};return Detail_History}),define("text!teacher/directives/endInteraction.tpl.html",[],function(){return'\r\n<div class="row">\r\n	<div class="col-lg-2">\r\n		<container-user user="interaction.user"></container-user>\r\n	</div>\r\n	<div class="col-lg-7">\r\n		Games played\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="game in interaction.games"\r\n				class="col-lg-3">\r\n				<container-game game=\'game\'></container-game>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-2">\r\n		<div class="row">Objectives covered</div>\r\n		<div\r\n			class="row"\r\n			ng-repeat="objective in getObjectives()">\r\n			<container-objective\r\n				class="col-lg-12"\r\n				objective=\'objective\'></container-objective>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-1">\r\n		<button\r\n			type="button"\r\n			ng-click="finish()">Finished</button>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-1">Child Engagement</div>\r\n	<div\r\n		ng-repeat="image in images"\r\n		class="col-lg-2">\r\n		<img\r\n			ng-src="/img/teacher/rating/{{image}}"\r\n			ng-class="{green:interaction.score.child.engagement==$index+1}"\r\n			class="clickable"\r\n			alt="{{$index}}"\r\n			ng-click="interaction.score.child.engagement = $index+1" />\r\n	</div>\r\n	<div class="col-lg-1">\r\n		<button\r\n			type="button"\r\n			ng-click="addNote(\'Child Engagement\')">Add Note</button>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-1">Child Experience</div>\r\n	<div\r\n		ng-repeat="image in images"\r\n		class="col-lg-2">\r\n		<img\r\n			ng-src="/img/teacher/rating/{{image}}"\r\n			ng-class="{green:interaction.score.child.experience==$index+1}"\r\n			class="clickable"\r\n			alt="{{$index}}"\r\n			ng-click="interaction.score.child.experience = $index+1" />\r\n	</div>\r\n	<div class="col-lg-1">\r\n		<button\r\n			type="button"\r\n			ng-click="addNote(\'Child Experience\')">Add Note</button>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-1">Parent Experience</div>\r\n	<div\r\n		ng-repeat="image in images"\r\n		class="col-lg-2">\r\n		<img\r\n			ng-src="/img/teacher/rating/{{image}}"\r\n			ng-class="{green:interaction.score.parent.experience==$index+1}"\r\n			class="clickable"\r\n			alt="{{$index}}"\r\n			ng-click="interaction.score.parent.experience = $index+1" />\r\n	</div>\r\n	<div class="col-lg-1">\r\n		<button\r\n			type="button"\r\n			ng-click="addNote(\'Parent Experience\')">Add Note</button>\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<div class="col-lg-12">All Notes</div>\r\n</div>\r\n<div class="row">\r\n	<div\r\n		ng-repeat="note in notes"\r\n		class="col-lg-2">\r\n		<container-note note="note"></container-note>\r\n	</div>\r\n	<div class="col-lg-2">\r\n		<button\r\n			type="button"\r\n			ng-click="addNote()">Add Note</button>\r\n	</div>\r\n</div>'}),define("teacher/directives/EndInteraction",["require","angular","text!./endInteraction.tpl.html"],function(require){var template=(require("angular"),require("text!./endInteraction.tpl.html")),EndInteraction=function(){return{template:template,restrict:"E",scope:{interaction:"="},link:function(){},controller:function($scope){$scope.images=["0.png","1.png","2.png","3.png","4.png"],$scope.finish=function(){$scope.interaction.score.child.experience&&$scope.interaction.score.child.engagement&&$scope.interaction.score.parent.experience?($scope.interaction.score.total=Math.round(($scope.interaction.score.child.experience+$scope.interaction.score.child.engagement+$scope.interaction.score.parent.experience)/3),$scope.interaction=void 0):alert("Please report your experience by clicking on the images")},$scope.getObjectives=function(){var objectives=[];if($scope.interaction&&$scope.interaction.games)for(var i=0;i<$scope.interaction.games.length;i++)if($scope.interaction.games[i].objectives)for(var j=0;j<$scope.interaction.games[i].objectives.length;j++){for(var found=!1,k=0;k<objectives.length;k++)if(objectives[k].key==$scope.interaction.games[i].objectives[j].key){found=!0;break}found||objectives.push($scope.interaction.games[i].objectives[j])}return objectives}}}};return EndInteraction}),define("text!teacher/directives/games.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-7">\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="game in games"\r\n				class="col-lg-2">\r\n				<container-game\r\n					ng-click="selectGame(game)"\r\n					class="clickable"\r\n					selected=\'game==selectedGame\'\r\n					highlight=\'shouldHighlight(game, selectedTag, selectedObjective)\'\r\n					game=\'game\'></container-game>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-5">\r\n		<detail-game\r\n			game=\'selectedGame\'\r\n			selected-tag=\'selectedTag\'\r\n			selected-objective=\'selectedObjective\'\r\n			ng-show="selectedGame"></detail-game>\r\n	</div>\r\n</div>\r\n<div\r\n	class="row"\r\n	ng-show="selectedTag || selectedObjective">\r\n	<div class="col-lg-12">\r\n		Filters:\r\n		<span ng-show="selectedTag">{{selectedTag.title}}</span>\r\n		,\r\n		<span ng-show="selectedObjective">{{selectedObjective.title}}</span>\r\n		<button\r\n			type="button"\r\n			ng-click="selectedTag=null;selectedObjective=null;">Clear</button>\r\n	</div>\r\n</div>'}),define("teacher/directives/Games",["require","angular","text!./games.tpl.html","teacher/services/dataProvider"],function(require){var template=(require("angular"),require("text!./games.tpl.html"));require("teacher/services/dataProvider");var Games=function(gameService){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function($scope){$scope.games=gameService.getGames(),$scope.selectGame=function(game){$scope.selectedGame=game},$scope.shouldHighlight=function(game,tag,objective){if(tag||objective){var hasTag=void 0===tag||null===tag;if(game.tags&&tag)for(var i=0;i<game.tags.length;i++)game.tags[i].key==tag.key&&(hasTag=!0);var hasObj=void 0===objective||null===objective;if(game.objectives&&objective)for(var i=0;i<game.objectives.length;i++)game.objectives[i].key==objective.key&&(hasObj=!0);return hasTag&hasObj}return!1}}}};return["gameService",Games]}),define("text!teacher/directives/history.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-2">\r\n		<div>\r\n			<div>Child</div>\r\n			<select\r\n				class="selectpicker form-control"\r\n				ng-model="selectedUser"\r\n				ng-disabled="users.length <= 1"\r\n				ng-options="user.name for user in users| orderBy:\'name\'">\r\n				<option value="">All</option>\r\n			</select>\r\n		</div>\r\n		<div>\r\n			<div>Interactions</div>\r\n			<div\r\n				ng-class="colors[interaction.score.total-1]"\r\n				ng-repeat="interaction in interactions | filter:userFilter | orderBy:\'date\'"\r\n				class="clickable"\r\n				ng-click="select(interaction)">{{interaction.date}}</div>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-10">\r\n		<detail-history\r\n			ng-show="selectedInteraction"\r\n			interaction="selectedInteraction"></detail-history>\r\n	</div>\r\n</div>'}),define("teacher/directives/History",["require","angular","text!./history.tpl.html"],function(require){var template=(require("angular"),require("text!./history.tpl.html")),History=function(userService,interactionService){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function($scope){$scope.users=userService.getUsers(),$scope.interactions=interactionService.getInteractions(),$scope.colors=["red","orange","yellow","blue","green"],$scope.select=function(interaction){$scope.selectedInteraction=interaction},$scope.userFilter=function(element){return $scope.selectedUser?element&&element.child?element.child.name==$scope.selectedUser.name:!1:!0}}}};return["userService","interactionService",History]}),define("text!teacher/directives/home.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-12">\r\n		<tabset>\r\n			<tab heading="Interaction"><interaction teacher="teacher" user="user" selected-games="selectedGames"></interaction></tab>\r\n			<tab heading="My Portal"><portal teacher="teacher"></portal></tab>\r\n			<tab heading="History"><history teacher="teacher"></history></tab>\r\n		</tabset>\r\n	</div>\r\n</div>'}),define("teacher/directives/Home",["require","angular","text!./home.tpl.html"],function(require){var template=(require("angular"),require("text!./home.tpl.html")),Home=function(gameService){return{template:template,restrict:"E",scope:{teacher:"=",user:"="},link:function(){},controller:function($scope){$scope.selectedGames=gameService.getGames()}}};return["gameService",Home]}),define("text!teacher/directives/interactionGame.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-8">{{game.desc_long}}</div>\r\n	<div class="col-lg-4">\r\n		<img ng-src="/img/teacher/game/{{game.fullsrc}}" />\r\n	</div>\r\n</div>\r\n<div class="row">\r\n	<button\r\n		type="button"\r\n		ng-click="start()"\r\n		ng-show="!game.started"\r\n		class="btn btn-default">Start</button>\r\n	<button\r\n		type="button"\r\n		ng-show="game.started && !game.finished"\r\n		ng-click="end()"\r\n		class="btn btn-default">Stop</button>\r\n</div>'}),define("teacher/directives/InteractionGame",["require","angular","text!./interactionGame.tpl.html"],function(require){var template=(require("angular"),require("text!./interactionGame.tpl.html")),InteractionGame=function(){return{template:template,restrict:"E",scope:{game:"="},link:function(){},controller:function($scope){$scope.start=function(){$scope.game.started=!0},$scope.end=function(){$scope.game.finished=!0}}}};return InteractionGame}),define("text!teacher/directives/interaction.tpl.html",[],function(){return'<begin-interaction\r\n	ng-hide="interaction"\r\n	teacher="teacher"\r\n	user="user"\r\n	games="selectedGames"\r\n	interaction="interaction"></begin-interaction>\r\n<active-interaction\r\n	ng-show="interaction && !interaction.totalTime"\r\n	interaction="interaction"></active-interaction>\r\n<end-interaction\r\n	ng-show="interaction && interaction.totalTime"\r\n	interaction="interaction"></end-interaction>\r\n'}),define("teacher/directives/Interaction",["require","angular","text!./interaction.tpl.html"],function(require){var template=(require("angular"),require("text!./interaction.tpl.html")),Interaction=function(){return{template:template,restrict:"E",scope:{teacher:"=",user:"=",selectedGames:"="},link:function(){},controller:function(){}}};return Interaction}),define("text!teacher/directives/login.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-1"></div>\r\n	<div class="col-lg-7">\r\n		<div class="splash">Welcome</div>\r\n	</div>\r\n	<div class="col-lg-3">\r\n		<form>\r\n			<div class="form-group">\r\n				<label for="exampleInputEmail1">User Name</label> <input\r\n					type="text"\r\n					class="form-control"\r\n					ng-model=\'username\'\r\n					id="username"\r\n					placeholder="Enter username"\r\n					autofocus>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="exampleInputPassword1">Password</label> <input\r\n					type="password"\r\n					class="form-control"\r\n					id="password"\r\n					placeholder="Password">\r\n			</div>\r\n			<div class="checkbox">\r\n				<label> <input\r\n					type="checkbox"\r\n					id="remember"> Remember Me\r\n				</label>\r\n			</div>\r\n			<button\r\n				type="button"\r\n				ng-click="login()"\r\n				class="btn btn-default">Sign In</button>\r\n		</form>\r\n	</div>\r\n	<div class="col-lg-1"></div>\r\n</div>'}),define("teacher/directives/Login",["require","angular","text!./login.tpl.html"],function(require){var template=(require("angular"),require("text!./login.tpl.html")),Login=function(){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function($scope){$scope.login=function(){$scope.teacher={username:$scope.username,name:$scope.username}}}}};return Login}),define("text!teacher/directives/portal.tpl.html",[],function(){return'<div>\r\n	<tabset>\r\n		<tab heading="My Scenarios"><scenarios teacher="teacher"></scenarios></tab>\r\n		<tab heading="Objectives"><objectives teacher="teacher"></objectives></tab>\r\n		<tab heading="Games"><games teacher="teacher"></games></tab>\r\n	</tabset>\r\n</div>'}),define("teacher/directives/Portal",["require","angular","text!./portal.tpl.html"],function(require){var template=(require("angular"),require("text!./portal.tpl.html")),Portal=function(){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function(){}}};return Portal}),define("text!teacher/directives/scenarios.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-7">\r\n		{{teacher.name}}\'s Senarios:\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="scenario in scenarios | filter:teacherScenarios"\r\n				class="col-lg-2">\r\n				<container-scenario\r\n					selected=\'scenario==selectedScenario\'\r\n					ng-click="selectScenario(scenario)"\r\n					class="clickable"\r\n					highlight=\'shouldHighlight(scenario, selectedTag, selectedObjective)\'\r\n					scenario=\'scenario\'></container-scenario>\r\n			</div>\r\n		</div>\r\n		All Senarios:\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="scenario in scenarios"\r\n				class="col-lg-2">\r\n				<container-scenario\r\n					ng-click="selectScenario(scenario)"\r\n					class="clickable"\r\n					selected=\'scenario==selectedScenario\'\r\n					highlight=\'shouldHighlight(scenario, selectedTag, selectedObjective)\'\r\n					scenario=\'scenario\'></container-scenario>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-5">\r\n		<detail-scenario\r\n			scenario=\'selectedScenario\'\r\n			selected-tag=\'selectedTag\'\r\n			selected-objective=\'selectedObjective\'\r\n			ng-show="selectedScenario"></detail-scenario>\r\n	</div>\r\n</div>\r\n<div\r\n	class="row"\r\n	ng-show="selectedTag || selectedObjective">\r\n	<div class="col-lg-12">\r\n		Filters:\r\n		<span ng-show="selectedTag">{{selectedTag.title}}</span>\r\n		,\r\n		<span ng-show="selectedObjective">{{selectedObjective.title}}</span>\r\n		<button\r\n			type="button"\r\n			ng-click="selectedTag=null;selectedObjective=null;">Clear</button>\r\n	</div>\r\n</div>'}),define("teacher/directives/Scenarios",["require","angular","text!./scenarios.tpl.html","teacher/services/dataProvider"],function(require){var template=(require("angular"),require("text!./scenarios.tpl.html"));require("teacher/services/dataProvider");var Scenarios=function(scenarioService){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function($scope){$scope.scenarios=scenarioService.getScenarios(),$scope.selectScenario=function(scenario){$scope.selectedScenario=scenario},$scope.teacherScenarios=function(element){return element&&element.author&&$scope.teacher?element.author.name==$scope.teacher.name:!1},$scope.shouldHighlight=function(scenario,tag,objective){if(tag||objective){var hasTag=void 0===tag||null===tag;if(scenario.tags&&tag)for(var i=0;i<scenario.tags.length;i++)scenario.tags[i].key==tag.key&&(hasTag=!0);var hasObj=void 0===objective||null===objective;if(scenario.objectives&&objective)for(var i=0;i<scenario.objectives.length;i++)scenario.objectives[i].key==objective.key&&(hasObj=!0);return hasTag&hasObj}return!1}}}};return["scenarioService",Scenarios]}),define("text!teacher/directives/objectives.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-5">\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="objective in objectives"\r\n				class="col-lg-2">\r\n				<container-objective\r\n					ng-click="selectObjective(objective)"\r\n					class="clickable"\r\n					ng-class="{highlight:objective.key==selectedObjective.key}"\r\n					objective=\'objective\'></container-objective>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="col-lg-7">\r\n		<div class="row">\r\n			<div\r\n				ng-repeat="item in items | filter:itemFilter"\r\n				class="col-lg-2">\r\n				<container-game game=\'item\'></container-game>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("teacher/directives/Objectives",["require","angular","text!./objectives.tpl.html"],function(require){var template=(require("angular"),require("text!./objectives.tpl.html")),Objectives=function(objectiveService,gameService,scenarioService){return{template:template,restrict:"E",scope:{teacher:"="},link:function(){},controller:function($scope){$scope.objectives=objectiveService.getObjectives(),$scope.items=[],$scope.items.push.apply($scope.items,gameService.getGames()),$scope.items.push.apply($scope.items,scenarioService.getScenarios()),$scope.selectObjective=function(objective){$scope.selectedObjective=objective},$scope.itemFilter=function(element){if(element&&element.objectives&&$scope.selectedObjective)for(var i=0;i<element.objectives.length;i++)if(element.objectives[i].key==$scope.selectedObjective.key)return!0;return!1}}}};return["objectiveService","gameService","scenarioService",Objectives]}),define("text!teacher/directives/users.tpl.html",[],function(){return'<div class="row">\r\n	<div class="col-lg-12 center">Hello {{teacher.name}}, please\r\n		select the user you will be working with</div>\r\n</div>\r\n<div class="row">\r\n	<div\r\n		ng-repeat="user in users"\r\n		class="col-lg-1">\r\n		<container-user\r\n			user=\'user\'\r\n			class="clickable"\r\n			ng-click="selectUser(user)"></container-user>\r\n	</div>\r\n	<div class="col-lg-1">\r\n		<container-user\r\n			user=newUser\r\n			class="clickable"\r\n			ng-click=addUser()></container-user>\r\n	</div>\r\n</div>'}),define("teacher/directives/Users",["require","angular","text!./users.tpl.html"],function(require){var template=(require("angular"),require("text!./users.tpl.html")),Users=function(userService){return{template:template,restrict:"E",scope:{user:"=",teacher:"="},link:function(){},controller:function($scope){$scope.newUser={name:"New User",birthday:"",gender:"",thumbsrc:"new_thumb.png",fullsrc:"new.png"},$scope.users=userService.getUsers(),$scope.selectUser=function(user){$scope.user=user}}}};return["userService",Users]}),define("teacher/directives",["require","angular","common/i18n/languageServices","teacher/services/dataProvider","./directives/ActiveInteraction","./directives/BeginInteraction","./directives/Container_Game","./directives/Container_Note","./directives/Container_Scenario","./directives/Container_Objective","./directives/Container_Tag","./directives/Container_User","./directives/Detail_Game","./directives/Detail_Scenario","./directives/Detail_History","./directives/EndInteraction","./directives/Games","./directives/History","./directives/Home","./directives/InteractionGame","./directives/Interaction","./directives/Login","./directives/Portal","./directives/Scenarios","./directives/Objectives","./directives/Users"],function(require){{var angular=require("angular"),languageServices=require("common/i18n/languageServices"),dataProvider=require("teacher/services/dataProvider"),ActiveInteraction=require("./directives/ActiveInteraction"),BeginInteraction=require("./directives/BeginInteraction"),Container_Game=require("./directives/Container_Game"),Container_Note=require("./directives/Container_Note"),Container_Scenario=require("./directives/Container_Scenario"),Container_Objective=require("./directives/Container_Objective"),Container_Tag=require("./directives/Container_Tag"),Container_User=require("./directives/Container_User"),Detail_Game=require("./directives/Detail_Game"),Detail_Scenario=require("./directives/Detail_Scenario"),Detail_History=require("./directives/Detail_History"),EndInteraction=require("./directives/EndInteraction"),Games=require("./directives/Games"),History=require("./directives/History"),Home=require("./directives/Home"),InteractionGame=require("./directives/InteractionGame"),Interaction=require("./directives/Interaction"),Login=require("./directives/Login"),Portal=require("./directives/Portal"),Scenarios=require("./directives/Scenarios"),Objectives=require("./directives/Objectives"),Users=require("./directives/Users"),moduleName="kasparGUI.teacher.directives",dependancies=[languageServices,dataProvider];angular.module(moduleName,dependancies).directive("activeInteraction",ActiveInteraction).directive("beginInteraction",BeginInteraction).directive("containerGame",Container_Game).directive("containerNote",Container_Note).directive("containerScenario",Container_Scenario).directive("containerObjective",Container_Objective).directive("containerTag",Container_Tag).directive("containerUser",Container_User).directive("detailGame",Detail_Game).directive("detailScenario",Detail_Scenario).directive("detailHistory",Detail_History).directive("endInteraction",EndInteraction).directive("games",Games).directive("history",History).directive("home",Home).directive("interactionGame",InteractionGame).directive("interaction",Interaction).directive("login",Login).directive("portal",Portal).directive("scenarios",Scenarios).directive("objectives",Objectives).directive("user",Users)}return moduleName}),define("teacher/main",["require","angular","./directives"],function(require){{var angular=require("angular"),directives=require("./directives"),moduleName="kasparGUI.teacher",dependancies=[directives];angular.module(moduleName,dependancies)}return moduleName}),define("teacher",["teacher/main"],function(main){return main}),define("categories/teacher",["require","angular","angularUIRouter","text!teacher/index.tpl.html","teacher/main"],function(require){var angular=require("angular"),uiRouter=require("angularUIRouter"),defaultTemplate=require("text!teacher/index.tpl.html"),teacherMain=require("teacher/main"),moduleName="kasparGUI.menu.teacher",dependancies=[uiRouter,teacherMain],Routes=function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",template:defaultTemplate})},module=angular.module(moduleName,dependancies);return module.config(["$stateProvider","$urlRouterProvider",Routes]),moduleName}),define("common/models/Menu",["require"],function(){var Menu=function(modelBuilder){return modelBuilder.getModel("Menu")};return["modelBuilder",Menu]}),define("common/models/Setting",["require"],function(){var Setting=function(modelBuilder){var _service=modelBuilder.getModel("Setting");return _service};return["modelBuilder",Setting]}),define("common/models",["require","angular","common/services/modelServices","./models/Menu","./models/Setting"],function(require){{var angular=require("angular"),angularResource=require("common/services/modelServices"),Menu=require("./models/Menu"),Setting=require("./models/Setting"),moduleName="kasparGUI.common.models",dependancies=[angularResource];angular.module(moduleName,dependancies).factory("Menu",Menu).factory("Setting",Setting)}return moduleName}),define("robots/models/Robot",["require"],function(){var Robot=function(modelBuilder){var _service=modelBuilder.getModel("Robot");return _service};return["modelBuilder",Robot]}),define("robots/models/RobotInterface",["require"],function(){var RobotInterface=function(modelBuilder){var _service=modelBuilder.getModel("RobotInterface",{},{get:{method:"GET",cache:!1}},"Robot/:id/Interface");return _service};return["modelBuilder",RobotInterface]}),define("robots/models/RobotModel",["require"],function(){var RobotModel=function(modelBuilder){var _service=modelBuilder.getModel("RobotModel");return _service};return["modelBuilder",RobotModel]}),define("robots/models/Sensor",["require"],function(){var Sensor=function(modelBuilder){var resource=modelBuilder.getModel("Sensor");return resource};return["modelBuilder",Sensor]}),define("robots/models/SensorGroup",["require"],function(){var SensorGroup=function(modelBuilder){var _service=modelBuilder.getModel("SensorGroup");return _service};return["modelBuilder",SensorGroup]}),define("robots/models/SensorModel",["require"],function(){var SensorModel=function(modelBuilder){var _service=modelBuilder.getModel("SensorModel");return _service};return["modelBuilder",SensorModel]}),define("robots/models/SensorValueType",["require"],function(){var SensorValueType=function(modelBuilder){var resource=modelBuilder.getModel("SensorValueType");return resource};return["modelBuilder",SensorValueType]}),define("robots/models/Servo",["require"],function(){var Servo=function(modelBuilder){var _service=modelBuilder.getModel("Servo");return _service};return["modelBuilder",Servo]}),define("robots/models/ServoConfig",["require"],function(){var ServoConfig=function(modelBuilder){var _service=modelBuilder.getModel("ServoConfig");return _service};return["modelBuilder",ServoConfig]}),define("robots/models/ServoGroup",["require"],function(){var ServoGroup=function(modelBuilder){var _service=modelBuilder.getModel("ServoGroup");return _service};return["modelBuilder",ServoGroup]}),define("robots/models/ServoInterface",["require"],function(){var ServoInterface=function(modelBuilder){var _service=modelBuilder.getModel("ServoInterface");
return _service};return["modelBuilder",ServoInterface]}),define("robots/models/ServoModel",["require"],function(){var ServoModel=function(modelBuilder){var _service=modelBuilder.getModel("ServoModel");return _service};return["modelBuilder",ServoModel]}),define("robots/models",["require","angular","angularResource","./models/Robot","./models/RobotInterface","./models/RobotModel","./models/Sensor","./models/SensorGroup","./models/SensorModel","./models/SensorValueType","./models/Servo","./models/ServoConfig","./models/ServoGroup","./models/ServoInterface","./models/ServoModel"],function(require){{var angular=require("angular"),angularResource=require("angularResource"),Robot=require("./models/Robot"),RobotInterface=require("./models/RobotInterface"),RobotModel=require("./models/RobotModel"),Sensor=require("./models/Sensor"),SensorGroup=require("./models/SensorGroup"),SensorModel=require("./models/SensorModel"),SensorValueType=require("./models/SensorValueType"),Servo=require("./models/Servo"),ServoConfig=require("./models/ServoConfig"),ServoGroup=require("./models/ServoGroup"),ServoInterface=require("./models/ServoInterface"),ServoModel=require("./models/ServoModel"),moduleName="kasparGUI.robots.models",dependancies=[angularResource];angular.module(moduleName,dependancies).factory("Robot",Robot).factory("RobotInterface",RobotInterface).factory("RobotModel",RobotModel).factory("Sensor",Sensor).factory("SensorGroup",SensorGroup).factory("SensorModel",SensorModel).factory("Servo",Servo).factory("ServoConfig",ServoConfig).factory("ServoGroup",ServoGroup).factory("SensorValueType",SensorValueType).factory("ServoInterface",ServoInterface).factory("ServoModel",ServoModel)}return moduleName}),define("common/CommonController",["require","angular"],function(require){var CommonController=(require("angular"),function($scope){$scope.version="3.0 Alpha 10"});return["$scope","$rootScope",CommonController]}),define("common/SettingsController",["require","angular","common/models","robots/models"],function(require){require("angular");require("common/models"),require("robots/models");var SettingsController=function($q,$scope,Setting,Robot,language){$scope.language=language.getText(),$scope.robots=Robot.query(),$scope.settings=Setting.query(),$scope.settings.$promise.then(function(settings){for(var i=0;i<settings.length;i++)if("robot"==settings[i].key){$scope.robotSetting=settings[i];break}void 0===$scope.robotSetting&&($scope.robotSetting=new Setting({key:"robot",value:""}))}),$scope.$watch("robotSetting.value",function(newValue){void 0!==newValue&&$scope.robotSetting.$save()})};return["$q","$scope","Setting","Robot","language",SettingsController]}),define("common/controllers",["require","angular","common/i18n/languageServices","angularUIRouter","common/models","robots/models","./CommonController","./SettingsController"],function(require){{var angular=require("angular"),languageServices=require("common/i18n/languageServices"),uiRouter=require("angularUIRouter"),commonModels=require("common/models"),robotModels=require("robots/models"),CommonController=require("./CommonController"),SettingsController=require("./SettingsController"),moduleName="kasparGUI.common.controllers",dependancies=[uiRouter,languageServices,commonModels,robotModels];angular.module(moduleName,dependancies).controller("commonController",CommonController).controller("settingsController",SettingsController)}return moduleName}),define("simpleapp",["require","angular","angularUIRouter","angularBoostrap","common/services/modelServices","text!teacher/index.tpl.html","categories/teacher","common/controllers"],function(require){var angular=require("angular"),angularRouter=require("angularUIRouter"),angularBootstrap=require("angularBoostrap"),defaultTemplate=(require("common/services/modelServices"),require("text!teacher/index.tpl.html")),teacher=require("categories/teacher"),commonControllers=require("common/controllers"),moduleName="kasparGUI",dependancies=[angularRouter,angularBootstrap,commonControllers,teacher],Routes=function($stateProvider,$urlRouterProvider,$locationProvider){$locationProvider.html5Mode(!0),$urlRouterProvider.otherwise("/teacher.html"),$stateProvider.state("default",{url:"/teacher.html",template:defaultTemplate})},ApiConfig=function(modelBuilderProvider){modelBuilderProvider.setBasePath("/api")},module=angular.module(moduleName,dependancies);return module.config(["$stateProvider","$urlRouterProvider","$locationProvider",Routes]),module.config(["modelBuilderProvider",ApiConfig]),moduleName})}();
//# sourceMappingURL=simpleapp.js.map