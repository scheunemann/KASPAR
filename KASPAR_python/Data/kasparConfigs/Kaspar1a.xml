<?xml version="1.0"?>

<!--
Definition file for KASPAR
Holds all information for a single Kaspar instance, like servo specific information (limits and defaults)
and information that KasparGUI uses to display and format information for this Kaspar type
-->

<!--
LAST CHANGED - WHAT - WHO:
25/01/11 - AX12 pos limits. Checked h/w values and synchronized file - sven
01/02/11 - SSC32 default and speed values changed to 2.0b3 standard - sven	
-->


<KASPAR version="1A">
    <NAME>Kaspar_1A</NAME>

    <!--
        Set log level for logger window
        0: Only Errors
        1: Errors and Warnings
        2: Errors, Warning and Info messages
        3: Show all (2 + Debug messages)
        4: Off (Should only be used for log file, i.e. don't create log file)
    -->
    <LOG_LEVEL>1</LOG_LEVEL>
    <SAVE_LOG>2</SAVE_LOG>

    <SERVO_UPDATE_TIME>100</SERVO_UPDATE_TIME>
    <SCALE_MAX>1000</SCALE_MAX>

    <!-- When set to true, all communication to Kaspar is redirected -->
    <!-- so no Kaspar has to be plugged in. Only for testing!!       -->
    <DEBUG_MODE>false</DEBUG_MODE>

    <!-- Connection Settings -->
    <AX12>
        <PORT>COM16</PORT>
        <SPEED>115200</SPEED>
        <ALLOWED_POSITION_ERROR>2</ALLOWED_POSITION_ERROR>
        <CONSTANT_CYCLES_UNTIL_REACT>3</CONSTANT_CYCLES_UNTIL_REACT>
        <CONSTANT_CYCLE_ERROR_ALLOWED>3</CONSTANT_CYCLE_ERROR_ALLOWED>
    </AX12>

    <SSC32>
        <PORT>COM15</PORT>
        <SPEED>115200</SPEED>
        <ALLOWED_POSITION_ERROR>20</ALLOWED_POSITION_ERROR>
    </SSC32>

    <!-- FILE AND FOLDER SETTINGS -->
    <FOLDERS>
        <POSES>./Kaspar1AData/pos</POSES>
        <SEQUENCES>./KasparData/seqs</SEQUENCES>
        <SOUNDS>./KasparData/sounds</SOUNDS>
        <LOGS>./Kaspar1AData/log</LOGS>
        <KEYMAPS>./Kaspar1AData/keyMaps</KEYMAPS>
    </FOLDERS>

    <FILES>
        <LOG>Kaspar.log</LOG>
        <SEQUENCELOG>Sequences.log</SEQUENCELOG>
        <POSE_EXT>pose</POSE_EXT>
        <SEQUENCE_EXT>seq</SEQUENCE_EXT>
        <KEYMAP_EXT>skm</KEYMAP_EXT>
    </FILES>
	
<!-- 
	List of all servos used in this KASPAR
	Contains physical information for all servos and other information needed by KasparGUI
-->
    <SERVOLIST>
		
        <SERVO type="AX12" id="101">
            <NAME>HEAD_ROT</NAME>

            <!-- Limits for motors as real motor values. Possible types: "pos","speed" -->
            <LIMITS type="pos">
                <MIN>200</MIN>
                <MAX>800</MAX>
            </LIMITS>

            <!-- Default values for position and speed. Can be "real" or "scaled" (according to SCALE_MAX)
                default type is "real" and only first "DEFAULT" node is parsed -->
            <DEFAULT type="real">
                <POS>508</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="102">
            <NAME>HEAD_VERT</NAME>
			
            <LIMITS type="pos">
                <MIN>440</MIN>
                <MAX>580</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>512</POS>
                <SPEED>150</SPEED>
            </DEFAULT>

            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="103">
            <NAME>HEAD_TLT</NAME>
			
            <LIMITS type="pos">
                <MIN>450</MIN>
                <MAX>620</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>534</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="116">
            <NAME>ARM_L_1</NAME>
			
            <LIMITS type="pos">
                <MIN>0</MIN>
                <MAX>640</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>320</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="117">
            <NAME>ARM_L_2</NAME>
			
            <LIMITS type="pos">
                <MIN>280</MIN>
                <MAX>710</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>495</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="118">
            <NAME>ARM_L_3</NAME>
			
            <LIMITS type="pos">
                <MIN>480</MIN>
                <MAX>810</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>645</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="119">
            <NAME>ARM_L_4</NAME>
			
            <LIMITS type="pos">
                <MIN>203</MIN>
                <MAX>624</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>413</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="132">
            <NAME>ARM_R_1</NAME>
			
            <LIMITS type="pos">
                <MIN>360</MIN>
                <MAX>750</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>545</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="133">
            <NAME>ARM_R_2</NAME>
			
            <LIMITS type="pos">
                <MIN>310</MIN>
                <MAX>920</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>615</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="134">
            <NAME>ARM_R_3</NAME>
			
            <LIMITS type="pos">
                <MIN>200</MIN>
                <MAX>510</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>355</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
        <SERVO type="AX12" id="135">
            <NAME>ARM_R_4</NAME>
			
            <LIMITS type="pos">
                <MIN>388</MIN>
                <MAX>800</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>475</POS>
                <SPEED>150</SPEED>
            </DEFAULT>
			
            <IS_UPDATED>false</IS_UPDATED>
            <IS_REACTIVE>false</IS_REACTIVE>
        </SERVO>
		
         <SERVO type="SSC32" id="3">
            <NAME>EYES_LR</NAME>
			
            <LIMITS type="pos">
                <MIN>720</MIN>
                <MAX>1880</MAX>
            </LIMITS>
			
            <LIMITS type="speed">
                <MIN>5000</MIN>
                <MAX>500</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>1300</POS>
                <SPEED>1000</SPEED>
            </DEFAULT>
        </SERVO>
		
        <SERVO type="SSC32" id="4">
            <NAME>EYES_UD</NAME>
			
            <LIMITS type="pos">
                <MIN>1080</MIN>
                <MAX>2000</MAX>
            </LIMITS>
			
            <LIMITS type="speed">
                <MIN>5000</MIN>
                <MAX>500</MAX>
            </LIMITS>

            <DEFAULT type="real">
                <POS>1500</POS>
                <SPEED>1000</SPEED>
            </DEFAULT>
        </SERVO>
		
        <SERVO type="SSC32" id="6">
            <NAME>MOUTH_OPEN</NAME>
			
            <LIMITS type="pos">
                <MIN>600</MIN>
                <MAX>1900</MAX>
            </LIMITS>
			
            <LIMITS type="speed">
                <MIN>5000</MIN>
                <MAX>500</MAX>
            </LIMITS>

            <DEFAULT type="scaled">
                <POS>525</POS>
                <SPEED>100</SPEED>
            </DEFAULT>
        </SERVO>
		
        <SERVO type="SSC32" id="7">
            <NAME>MOUTH_SMILE</NAME>
			
            <LIMITS type="pos">
                <MIN>700</MIN>
                <MAX>1850</MAX>
            </LIMITS>
			
            <LIMITS type="speed">
                <MIN>5000</MIN>
                <MAX>500</MAX>
            </LIMITS>

            <DEFAULT type="scaled">
                <POS>970</POS>
                <SPEED>1000</SPEED>
            </DEFAULT>
        </SERVO>
		
        <SERVO type="SSC32" id="5">
            <NAME>EYELIDS</NAME>
			
            <LIMITS type="pos">
                <MIN>1230</MIN>
                <MAX>1900</MAX>
            </LIMITS>
			
            <LIMITS type="speed">
                <MIN>5000</MIN>
                <MAX>500</MAX>
            </LIMITS>

            <DEFAULT type="scaled">
                <POS>614</POS>
                <SPEED>100</SPEED>
            </DEFAULT>
        </SERVO>
		
        <!--
                A servo group defines the logical connection between servos.
                It is used by KasparGUI to do the correct layout (each servo group is displayed together as a unit)
                and offer the correct functionality
        -->

        <SERVOGROUP>
            <NAME>Head</NAME>
            <COLUMN>0</COLUMN>
            <ROW>0</ROW>
            <MEMBER pos="0">HEAD_VERT</MEMBER>
            <MEMBER pos="1">HEAD_ROT</MEMBER>
            <MEMBER pos="2">HEAD_TLT</MEMBER>
            <MANUAL_POSITIONING>true</MANUAL_POSITIONING>
        </SERVOGROUP>

        <SERVOGROUP>
            <NAME>Face</NAME>
            <COLUMN>1</COLUMN>
            <ROW>0</ROW>
            <MEMBER pos="0">EYES_LR</MEMBER>
            <MEMBER pos="1">EYES_UD</MEMBER>
            <MEMBER pos="2">EYELIDS</MEMBER>
            <MEMBER pos="3">MOUTH_OPEN</MEMBER>
            <MEMBER pos="4">MOUTH_SMILE</MEMBER>
            <MANUAL_POSITIONING>false</MANUAL_POSITIONING>
        </SERVOGROUP>

        <SERVOGROUP>
            <NAME>Left Arm</NAME>
            <COLUMN>2</COLUMN>
            <ROW>0</ROW>
            <MEMBER pos="0">ARM_L_1</MEMBER>
            <MEMBER pos="1">ARM_L_2</MEMBER>
            <MEMBER pos="2">ARM_L_3</MEMBER>
            <MEMBER pos="3">ARM_L_4</MEMBER>
            <MANUAL_POSITIONING>true</MANUAL_POSITIONING>
        </SERVOGROUP>

        <SERVOGROUP>
            <NAME>Right Arm</NAME>
            <COLUMN>3</COLUMN>
            <ROW>0</ROW>
            <MEMBER pos="0">ARM_R_1</MEMBER>
            <MEMBER pos="1">ARM_R_2</MEMBER>
            <MEMBER pos="2">ARM_R_3</MEMBER>
            <MEMBER pos="3">ARM_R_4</MEMBER>
            <MANUAL_POSITIONING>true</MANUAL_POSITIONING>
        </SERVOGROUP>

    </SERVOLIST>

	
</KASPAR>
